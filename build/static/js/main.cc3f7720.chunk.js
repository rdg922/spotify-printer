(this["webpackJsonpspotify-printer"]=this["webpackJsonpspotify-printer"]||[]).push([[0],{21:function(e,t,a){},22:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var o=a(2),c=a.n(o),n=a(14),r=a.n(n),i=(a(21),a(15)),s=a(4),l=(a.p,a(22),a(16)),u=a.n(l),p=a(0),d=["ugc-image-upload","user-read-recently-played","user-read-playback-state","user-top-read","playlist-modify-public","user-modify-playback-state","playlist-modify-private","user-follow-modify","user-read-currently-playing","user-follow-read","user-library-modify","user-read-playback-position","playlist-read-private","user-read-email","user-read-private","user-library-read","playlist-read-collaborative"].join("%20");var f=function(){var e=Object(o.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],n=Object(o.useState)(""),r=Object(s.a)(n,2),l=r[0],f=r[1];Object(o.useEffect)((function(){if(window.location.hash){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var a=t.split("="),o=Object(s.a)(a,2),c=o[0],n=o[1];return e[c]=n,console.log(e),e}),{}),t=e.access_token,a=e.expires_in,o=e.token_type;localStorage.clear(),localStorage.setItem("accessToken",t),localStorage.setItem("tokenType",o),localStorage.setItem("expiresIn",a)}localStorage.getItem("accessToken")&&c(localStorage.getItem("accessToken"))}));var b=function(){window.location="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("098520251b854f2ab32422501b833835","&redirect_uri=").concat("http://localhost:3000/","&scope=").concat(d,"&response_type=token&show_dialog=true")},h=function(){u.a.get("\thttps://api.spotify.com/v1/me/top/tracks?time_range=short_term&limit=20&offset=1",{headers:{Authorization:"Bearer "+a}}).then((function(e){console.log(e.data.items);var t,a=[],o=Object(i.a)(e.data.items);try{for(o.s();!(t=o.n()).done;){var c=t.value.album.images[1].url;-1==a.indexOf(c)&&a.push(c)}}catch(n){o.e(n)}finally{o.f()}f(a.slice(0,10))})).catch((function(e){return console.log(e)}))};return Object(p.jsx)("div",{className:"App",children:l?l.map((function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("img",{src:e})})})):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{onClick:h,children:"Get Top"}),Object(p.jsx)("button",{onClick:b,children:"Auth"})]})})},b=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,43)).then((function(t){var a=t.getCLS,o=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),o(e),c(e),n(e),r(e)}))};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(f,{})}),document.getElementById("root")),b()}},[[42,1,2]]]);
//# sourceMappingURL=main.cc3f7720.chunk.js.map